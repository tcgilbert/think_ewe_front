[{"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/index.js":"1","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/App.js":"2","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/reportWebVitals.js":"3","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Login.js":"4","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/SignUp.js":"5","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/utilities/useForm.js":"6","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Signup.js":"7","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/utilities/setAuthToken.js":"8","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/LandingPage.js":"9","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Profile.js":"10","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Dashboard.js":"11","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/material-ui/SimpleContainer.js":"12","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Navigation.js":"13","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/material-ui/LoginPopUp.js":"14"},{"size":539,"mtime":1611175200492,"results":"15","hashOfConfig":"16"},{"size":5187,"mtime":1611338473777,"results":"17","hashOfConfig":"16"},{"size":362,"mtime":1611174389374,"results":"18","hashOfConfig":"16"},{"size":1626,"mtime":1611282522451,"results":"19","hashOfConfig":"16"},{"size":711,"mtime":1611176992394,"results":"20","hashOfConfig":"16"},{"size":344,"mtime":1611177332085,"results":"21","hashOfConfig":"16"},{"size":2509,"mtime":1611326507659,"results":"22","hashOfConfig":"16"},{"size":357,"mtime":1611178745292,"results":"23","hashOfConfig":"16"},{"size":2954,"mtime":1611329195949,"results":"24","hashOfConfig":"16"},{"size":181,"mtime":1611336945457,"results":"25","hashOfConfig":"16"},{"size":11143,"mtime":1611342022518,"results":"26","hashOfConfig":"16"},{"size":560,"mtime":1611260852827,"results":"27","hashOfConfig":"16"},{"size":1197,"mtime":1611326814066,"results":"28","hashOfConfig":"16"},{"size":2279,"mtime":1611326852094,"results":"29","hashOfConfig":"16"},{"filePath":"30","messages":"31","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},"vv6w8x",{"filePath":"33","messages":"34","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"35","usedDeprecatedRules":"32"},{"filePath":"36","messages":"37","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"38","messages":"39","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"40","messages":"41","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"42","messages":"43","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"44","usedDeprecatedRules":"32"},{"filePath":"45","messages":"46","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"47","messages":"48","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"49","messages":"50","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"51","messages":"52","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"53","usedDeprecatedRules":"32"},{"filePath":"54","messages":"55","errorCount":0,"warningCount":4,"fixableErrorCount":0,"fixableWarningCount":0,"source":null},{"filePath":"56","messages":"57","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0},{"filePath":"58","messages":"59","errorCount":0,"warningCount":0,"fixableErrorCount":0,"fixableWarningCount":0,"usedDeprecatedRules":"32"},{"filePath":"60","messages":"61","errorCount":0,"warningCount":1,"fixableErrorCount":0,"fixableWarningCount":0,"source":"62","usedDeprecatedRules":"32"},"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/index.js",[],["63","64"],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/App.js",["65"],"// imports\nimport \"./App.css\";\nimport { useEffect, useState } from \"react\";\nimport { Route, Redirect } from \"react-router-dom\";\nimport axios from \"axios\";\nimport jwt_decode from \"jwt-decode\";\nimport setAuthToken from \"./utilities/setAuthToken\";\n\n// components\nimport LandingPage from \"./components/LandingPage\";\nimport Profile from \"./components/Profile\";\nimport Dashboard from \"./components/Dashboard\";\nimport Navigation from \"./components/Navigation\";\n\nfunction App() {\n    const [currentUser, setCurrentUser] = useState(\"\");\n    const [isAuthenticated, setIsAuthenticated] = useState(false);\n    const [logLink, setLogLink] = useState(false);\n    const SERVER = process.env.REACT_APP_SERVER;\n    const autoLoginValues = {\n        identifier: \"tcgilbert94@gmail.com\",\n        password: \"00000000\",\n    };\n\n    // Private Route\n    const PrivateRoute = ({ component: Component, ...rest }) => {\n        const user = localStorage.getItem(\"jwtToken\");\n        return (\n            <Route\n                {...rest}\n                render={(props) => {\n                    return user ? (\n                        <Component {...rest} {...props} />\n                    ) : (\n                        <Redirect to=\"/\" />\n                    );\n                }}\n            />\n        );\n    };\n    // handle log in\n    const handleLogin = async (values) => {\n        try {\n            console.log(\"logging in\");\n            // look for user\n            const requestedUser = await axios.post(`${SERVER}/users/login`, {\n                identifier: values.identifier,\n                password: values.password,\n            });\n            // extract token\n            const { token } = requestedUser.data;\n            // add to local storage\n            localStorage.setItem(\"jwtToken\", token);\n            // set token\n            setAuthToken(token);\n            // decode token\n            const userInfo = jwt_decode(token);\n            // fetch user\n            const apiRes = await axios.get(`${SERVER}/users/${userInfo.id}`);\n            const user = apiRes.data.requestedUser;\n            // set the current user\n            setCurrentUser(user);\n            setIsAuthenticated(true);\n        } catch (error) {\n            console.log(error);\n            console.log(`LOGIN ERROR: ${error.data}`);\n        }\n    };\n\n    // send token to backend to check for user\n    useEffect(() => {\n        const token = localStorage.getItem(\"jwtToken\");\n        if (token) {\n            checkToken(token);\n        }\n    }, []);\n\n    const handleLogout = () => {\n        console.log(\"logging out\");\n        setCurrentUser(null);\n        setIsAuthenticated(false);\n        if (localStorage.getItem(\"jwtToken\")) {\n            localStorage.removeItem(\"jwtToken\");\n        }\n    };\n\n    const checkToken = async (token) => {\n        console.log(\"checking token\");\n        try {\n            const tokenUser = await axios.post(`${SERVER}/users/check-token`, {\n                token: token,\n            });\n            const userFound = await tokenUser.data.user_found;\n            console.log(userFound);\n            if (userFound) {\n                console.log(userFound);\n                console.log(\"found user\");\n                setCurrentUser(userFound);\n                setIsAuthenticated(true);\n                setAuthToken(token);\n            } else {\n                console.log(\"logging out\");\n                handleLogout();\n            }\n        } catch (error) {\n            console.log(\"logging out\");\n            handleLogout();\n        }\n    };\n\n    return (\n        <div>\n            <Navigation\n                logLink={logLink}\n                setLogLink={setLogLink}\n                handleLogin={handleLogin}\n                handleLogout={handleLogout}\n                isAuthenticated={isAuthenticated}\n            />\n            <div className=\"app-container\">\n                <Route\n                    exact\n                    path=\"/\"\n                    render={() => {\n                        return (\n                            <LandingPage\n                                logLink={logLink}\n                                setLogLink={setLogLink}\n                                handleLogin={handleLogin}\n                                setUser={setCurrentUser}\n                                setAuth={setIsAuthenticated}\n                                isAuth={isAuthenticated}\n                                currentUser={currentUser}\n                            />\n                        );\n                    }}\n                />\n                <PrivateRoute\n                    path=\"/profile\"\n                    component={Profile}\n                    user={currentUser}\n                />\n                <PrivateRoute\n                    path=\"/dashboard\"\n                    component={Dashboard}\n                    user={currentUser}\n                    setUser={setCurrentUser}\n                />\n                <button\n                    type=\"submit\"\n                    onClick={() => handleLogin(autoLoginValues)}\n                >\n                    Auto Login\n                </button>\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/reportWebVitals.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Login.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/SignUp.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/utilities/useForm.js",["66"],"import React, { useState } from \"react\";\n\nconst useForm = (initialValues) => {\n    const [values, setValues] = useState(initialValues);\n    return [\n        values,\n        (e) => {\n            setValues({\n                ...values,\n                [e.target.name]: e.target.value,\n            });\n        },\n    ];\n};\n\nexport default useForm;\n","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Signup.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/utilities/setAuthToken.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/LandingPage.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Profile.js",["67"],"import React, { useEffect } from 'react'\n\nconst Profile = (props) => {\n\n\n    return (\n        <div>\n            <h3>User profile</h3>\n        </div>\n    )\n}\n\nexport default Profile\n","/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Dashboard.js",["68","69","70","71"],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/material-ui/SimpleContainer.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/Navigation.js",[],"/Users/tcgilbert/Documents/Personal-Projects/think-ewe2/think_ewe_front/src/components/material-ui/LoginPopUp.js",["72"],"import React, { useState, useEffect, useRef } from \"react\";\nimport Button from \"@material-ui/core/Button\";\nimport Login from \"../Login\";\nimport { makeStyles } from \"@material-ui/core/styles\";\nimport Popover from \"@material-ui/core/Popover\";\nimport Typography from \"@material-ui/core/Typography\";\n\nconst useStyles = makeStyles((theme) => ({\n    typography: {\n        padding: theme.spacing(2),\n    },\n}));\n\n\nexport default function LoginPopUp(props) {\n    const classes = useStyles();\n    const [identifier, setIdentifier] = useState(\"\");\n    const [password, setPassword] = useState(\"\");\n    const [anchorEl, setAnchorEl] = React.useState(null);\n\n    useEffect(() => {\n        const button = document.getElementById(\"login-btn\")\n        if (props.logLink) {\n            setAnchorEl(button)\n        }\n\n    }, [props.logLink])\n\n    const handleClick = (event) => {\n        setAnchorEl(event.currentTarget);\n    };\n\n    const handleClose = () => {\n        setIdentifier(\"\")\n        setPassword(\"\")\n        props.setLogLink(false)\n        setAnchorEl(null);\n    };\n\n    const open = Boolean(anchorEl);\n    const id = open ? \"simple-popover\" : undefined;\n    return (\n        <div>\n            <Button\n                id=\"login-btn\"\n                aria-describedby={id}\n                onClick={handleClick}\n            >\n                Log In\n            </Button>\n            <Popover\n                id={id}\n                open={open}\n                anchorEl={anchorEl}\n                onClose={handleClose}\n                anchorOrigin={{\n                    vertical: \"bottom\",\n                    horizontal: \"center\",\n                }}\n                transformOrigin={{\n                    vertical: \"top\",\n                    horizontal: \"center\",\n                }}\n            >\n                <Typography className={classes.typography}>\n                    <Login\n                        handleClose={handleClose}\n                        handleLogin={props.handleLogin}\n                        identifier={identifier}\n                        setIdentifier={setIdentifier}\n                        password={password}\n                        setPassword={setPassword}\n                    />\n                </Typography>\n            </Popover>\n        </div>\n    );\n}\n",{"ruleId":"73","replacedBy":"74"},{"ruleId":"75","replacedBy":"76"},{"ruleId":"77","severity":1,"message":"78","line":76,"column":8,"nodeType":"79","endLine":76,"endColumn":10,"suggestions":"80"},{"ruleId":"81","severity":1,"message":"82","line":1,"column":8,"nodeType":"83","messageId":"84","endLine":1,"endColumn":13},{"ruleId":"81","severity":1,"message":"85","line":1,"column":17,"nodeType":"83","messageId":"84","endLine":1,"endColumn":26},{"ruleId":"81","severity":1,"message":"86","line":11,"column":12,"nodeType":"83","messageId":"84","endLine":11,"endColumn":22},{"ruleId":"77","severity":1,"message":"87","line":78,"column":8,"nodeType":"79","endLine":78,"endColumn":10,"suggestions":"88"},{"ruleId":"89","severity":1,"message":"90","line":182,"column":33,"nodeType":"91","endLine":182,"endColumn":44},{"ruleId":"89","severity":1,"message":"90","line":197,"column":33,"nodeType":"91","endLine":197,"endColumn":44},{"ruleId":"81","severity":1,"message":"92","line":1,"column":38,"nodeType":"83","messageId":"84","endLine":1,"endColumn":44},"no-native-reassign",["93"],"no-negated-in-lhs",["94"],"react-hooks/exhaustive-deps","React Hook useEffect has a missing dependency: 'checkToken'. Either include it or remove the dependency array.","ArrayExpression",["95"],"no-unused-vars","'React' is defined but never used.","Identifier","unusedVar","'useEffect' is defined but never used.","'avatarPath' is assigned a value but never used.","React Hook useEffect has a missing dependency: 'selectAvatar'. Either include it or remove the dependency array.",["96"],"react/jsx-no-duplicate-props","No duplicate props allowed","JSXAttribute","'useRef' is defined but never used.","no-global-assign","no-unsafe-negation",{"desc":"97","fix":"98"},{"desc":"99","fix":"100"},"Update the dependencies array to be: [checkToken]",{"range":"101","text":"102"},"Update the dependencies array to be: [selectAvatar]",{"range":"103","text":"104"},[2511,2513],"[checkToken]",[2853,2855],"[selectAvatar]"]